doctype html
html(lang='th', dir='ltr')
head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    title= title
    // Tell the browser to be responsive to screen width
    meta(content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no', name='viewport')
    // Bootstrap 3.3.6
    link(rel='stylesheet', href='/bootstrap/css/bootstrap.min.css')
    // Font Awesome
    link(rel='stylesheet', href='/font-awesome/css/font-awesome.min.css')
    // Ionicons
    link(rel='stylesheet', href='/ionicons-2.0.1/css/ionicons.min.css')
    // Pace style
    link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/pace/pace.min.css')
    // iCheck
    link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/iCheck/all.css')
    // Select2
    link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/select2/select2.min.css')
    // Chart
    link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/morris/morris.css')
    // Tree View
    link(rel='stylesheet', href='/treeview/themes/default/style.min.css')
    // Theme style
    link(rel='stylesheet', href='/AdminLTE-2.3.3/dist/css/AdminLTE.min.css')
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/datatables/jquery.dataTables.css')
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/datatables/dataTables.bootstrap.css')
    //2Language
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/CLDRPluralRuleParser.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.messagestore.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.fallbacks.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.language.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.parser.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.emitter.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/jquery.i18n.emitter.bidi.js')
    script(type='text/javascript' src='/javascripts/jquery_i18n/main-jquery_i18n.js')
    script(type='text/javascript', src='/javascripts/js.cookie.js')
    script(type='text/javascript', src='https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js')
    //
        AdminLTE Skins. Choose a skin from the css/skins
        folder instead of downloading all of them to reduce the load.
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/dist/css/skins/_all-skins.min.css')
    link(rel='stylesheet', href='/AdminLTE-2.3.3/dist/css/skins/skin-blue.min.css')
    // Morris chart
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/morris/morris.css')
    // jvectormap
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/jvectormap/jquery-jvectormap-1.2.2.css')
    // Date Picker
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/datepicker/datepicker3.css')
    // Daterange picker
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/daterangepicker/daterangepicker-bs3.css')
    // bootstrap wysihtml5 - text editor
    //link(rel='stylesheet', href='/AdminLTE-2.3.3/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css')
    link(rel='stylesheet', href='/AdminLTE-2.3.3/dist/css/custom.css')
    if(title == 'eTBS | Directory Search' || title == 'eTBS | Extensions' || title == 'eTBS | Groups' || title == 'eTBS | Trunks' || title == 'usersM' || title == 'eTBS | etbsRoles' || title == 'eTBS | etbsPermissions')
     style.
        table {
            display: flex;
            flex-flow: column;
            width: 100%;
        }

        thead {
            flex: 0 0 auto;
        }

        tbody {
            flex: 1 1 auto;
            display: block;
            overflow-y: auto;
            overflow-x: hidden;
        }

        tr {
            width: 100%;
            display: table;
            table-layout: fixed;
        }
    // HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
    // WARNING: Respond.js doesn't work if you view the page via file://
    block header

body.hold-transition.skin-blue.sidebar-mini.sidebar-collapse
    .wrapper
        header.main-header(style="position:fixed;width:-webkit-fill-available;")
            // Logo
            a.logo(href='/api/v1/dashboard?access_token=' + token)
                // mini logo for sidebar mini 50x50 pixels
                span.logo-mini
                    b e
                    | TBS
                // logo for regular state and mobile devices
                span.logo-lg
                    b eTBS
                    | Cloud
            // Header Navbar: style can be found in header.less
            nav.navbar.navbar-static-top
                // Sidebar toggle button
                a.sidebar-toggle(href='#', data-toggle='offcanvas', role='button')
                    span.sr-only Toggle navigation
                .navbar-custom-menu
                    ul.nav.navbar-nav
                        // Messages: style can be found in dropdown.less
                        
                        // Notifications: style can be found in dropdown.less
                        
                        // Tasks: style can be found in dropdown.less
                        
                        // User Account: style can be found in dropdown.less
                        li.dropdown.user.user-menu
                            a.data-toggle(href='#', data-toggle='dropdown')
                                span.lb-user.hidden-xs !{user}
                            ul.dropdown-menu
                                li.user-header
                                    img.img-circle(src='/AdminLTE-2.3.3/dist/img/conv-160x160.png', alt='User Image')
                                    p.lb-company-name
                                        label(data-i18n='none') NONE
                                    small.lb-created-at(data-i18n='license create at') License created at 
                                    small.lb-created-at !{prettyDate(lic_created_at)}
                                // Menu Body
                                li.user-body
                                    .row
                                        .col-xs-4.text-center
                                            a.lb-ext-lic(href='#' title='License')= ext_lic
                                        .col-xs-4.text-center
                                            a.lb-used-lic(href='#' title='Used') 1
                                        .col-xs-4.text-center
                                            a.lb-remain-lic(href='#' title='Remaining') 1
                                    // /.row
                                    //.row
                                        a.lang-switch(href='#', data-locale='en',style="color:white;") EN
                                        |  |
                                        a.lang-switch(href='#', data-locale='th',style="color:white;") TH
                                // Menu Footer
                                li.user-footer
                                    .pull-left.language
                                        a.lang-switch(href='#', data-locale='en') 
                                            span.badge-switch.badge-lang-switch-en EN
                                        |  |
                                        a.lang-switch(href='#', data-locale='th') 
                                            span.badge.badge-switch.badge-lang-switch-th TH
                                        //a.btn.btn-default.btn-flat(href='javascript:;') Profile
                                    .pull-right
                                        a.btn-logout.btn.btn-default.btn-flat(href='/api/v1/signin' ,data-i18n="logout") Log out
                        // Control Sidebar Toggle Button
                        
        // Left side column. contains the logo and sidebar
        aside.main-sidebar(style="position:fixed;")
            // sidebar: style can be found in sidebar.less
            section.sidebar
                // Sidebar user panel
            
                // search form
                form.sidebar-form(action='#', method='get')
                    .input-group
                        input.form-control(type='text', name='q',data-i18n='[placeholder]search', placeholder='Search...')
                        span.input-group-btn
                            button#search-btn.btn.btn-flat(type='submit', name='search')
                                i.fa.fa-search
                  // /.search form
                // sidebar menu: : style can be found in sidebar.less
                ul.sidebar-menu
                //ul.sidebar-menu
                    li.header(data-i18n='menu') MENU
                    li
                        a(href='/api/v1/dashboard?access_token=' + token)
                            i.fa.fa-dashboard
                            span(data-i18n="dashboard") Dashboard
                    li.treeview
                        a(href='#' + token)
                            i.fa.fa-files-o
                            span(data-i18n="Report") Reports
                            i.fa.fa-angle-left.pull-right
                        ul.treeview-menu
                            li
                                a(href='/api/v1/reports/extension/summary?access_token=' + token,data-i18n='User Reports') User Reports1
                            li
                                a(href='/api/v1/reports/admin/destination/summary?access_token=' + token,data-i18n='Admin Reports') Admin Reports
                            li
                                a(href='/api/v1/reports/trunk/summary?access_token=' + token,data-i18n='Trunk Reports') Trunk Reports
                            li
                                a(href='/api/v1/reports/top/extension?access_token=' + token,data-i18n='Top Usage Reports') Top Usage Reports
                            li
                                a(href='/api/v1/reports/top/extension?access_token=' + token,data-i18n='Chart Reports') Chart Reports
                            
                    li.treeview
                        a(href='#')
                            i.fa.fa-group
                            span(data-i18n="extensions") Extensions
                            i.fa.fa-angle-left.pull-right
                        ul.treeview-menu
                            li
                                a(href='/api/v1/extensions?access_token=' + token,data-i18n="extension") Extension
                            li
                                a(href='/api/v1/organize?access_token=' + token , data-i18n='groups') Groups
                            li
                                a(href='/api/v1/trunk?access_token=' + token , data-i18n='trunks') Trunks
                    li.treeview
                        a(href='#')
                            i.fa.fa-calculator
                            span(data-i18n='recalculate') Recalculate
                            i.fa.fa-angle-left.pull-right
                        ul.treeview-menu
                            li
                                a(href='/api/v1/recalculate?access_token=' + token ,data-i18n="recalculate") Recalculate
                    li.treeview
                        a(href='#')
                            i.fa.fa-search
                            span(data-i18n='directorysearch') Directory Search
                            i.fa.fa-angle-left.pull-right
                        ul.treeview-menu
                            li
                                a(href='/api/v1/directorysearch?access_token=' + token ,data-i18n="directorysearch") Directory Search
                    li.treeview
                        a(href='#')
                            i.fa.fa-btc
                            span(data-i18n='tariffs') Tariffs
                            i.fa.fa-angle-left.pull-right
                        ul.treeview-menu
                            li
                                a(href='/api/v1/locations?access_token=' + token , data-i18n='locations') Locations
                            li
                                a(href='/api/v1/areacodes?access_token=' + token , data-i18n='Areacodes & Rates') Areacodes & Rates
                    li.treeview
                        a(href='#')
                            i.fa.fa-gear
                            span(data-i18n='configuration') Configuration
                            i.fa.fa-angle-left.pull-right
                        ul.treeview-menu
                            li
                                a(href='/api/v1/usersM?access_token=' + token,data-i18n='users') Users
                            li
                                a(href='/api/v1/etbs-roles?access_token=' + token,data-i18n='roles') Roles
                            li
                                a(href='/api/v1/etbs-permissions?access_token=' + token,data-i18n='permission') Permissions
                            li
                                a(href='/api/v1/etbs-Department?access_token=' + token,data-i18n='department') Department
                            
                            
                // /.sidebar
        // Content Wrapper. Contains page content
        .content-wrapper(style="margin-top:45px;")
            // Content Header (Page header)
            block content
            // /.content
        // /.content-wrapper
        footer.main-footer
            .pull-right.hidden-xs
                b Version
                |  0.1.0
            strong
                | Copyright © 2020 
                a(href='http://www.convergence.co.th') Convergence Technology Co., Ltd.
            |  All rights reserved.
        // Control Sidebar
        
        // /.control-sidebar
        //
            Add the sidebar's background. This div must be placed
            immediately after the control sidebar
        .control-sidebar-bg
    // ./wrapper
    -function prettyDate(dateString){
        //if it's already a date object and not a string you don't need this line:
        -var date = new Date(dateString);
        -var d = date.getDate();
        -var monthNames = [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec" ];
        //-var m = monthNames[date.getMonth()];
        -var m = ("0" + (date.getMonth() + 1)).slice(-2);
        -var y = date.getFullYear();
        //-return d+' '+m+' '+y;
        -return y+'-'+m+'-'+d;
    -}
    // jQuery 2.2.0
    //script(src='/AdminLTE-2.3.3/plugins/jQuery/jQuery-2.2.0.min.js')
    // jQuery UI 1.11.4
    //script(src='https://code.jquery.com/ui/1.11.4/jquery-ui.min.js')
    // Resolve conflict in jQuery UI tooltip with Bootstrap tooltip
    //script.
      //$.widget.bridge('uibutton', $.ui.button);
    // Bootstrap 3.3.6
    script(src='/bootstrap/js/bootstrap.min.js')
    // PACE
    script(src='/AdminLTE-2.3.3/plugins/pace/pace.min.js')
    // Select2
    script(src='/AdminLTE-2.3.3/plugins/select2/select2.full.min.js')
    // Morris.js charts
    //script(src='https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js')
    //script(src='/AdminLTE-2.3.3/plugins/morris/morris.min.js')
    // Sparkline
    //script(src='/AdminLTE-2.3.3/plugins/sparkline/jquery.sparkline.min.js')
    // jvectormap
    //script(src='/AdminLTE-2.3.3/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js')
    //script(src='/AdminLTE-2.3.3/plugins/jvectormap/jquery-jvectormap-world-mill-en.js')
    // jQuery Knob Chart
    //script(src='/AdminLTE-2.3.3/plugins/knob/jquery.knob.js')
    // daterangepicker
    //script(src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.11.2/moment.min.js')
    //script(src='/AdminLTE-2.3.3/plugins/daterangepicker/daterangepicker.js')
    // datepicker
    //script(src='/AdminLTE-2.3.3/plugins/datepicker/bootstrap-datepicker.js')
    // Bootstrap WYSIHTML5
    //script(src='/AdminLTE-2.3.3/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.all.min.js')
    script(type='text/javascript', src='/javascripts/notify.min.js')
    // Slimscroll
    script(src='/AdminLTE-2.3.3/plugins/slimScroll/jquery.slimscroll.min.js')
    // iCheck 1.0.1
    script(src='/AdminLTE-2.3.3/plugins/iCheck/icheck.min.js')
    // FastClick
    script(src='/AdminLTE-2.3.3/plugins/fastclick/fastclick.js')
    // AdminLTE App
    script(src='/AdminLTE-2.3.3/dist/js/app.min.js')
    // Pie
    script(src='/AdminLTE-2.3.3/plugins/flot/jquery.flot.js')
    script(src='/AdminLTE-2.3.3/plugins/flot/jquery.flot.resize.min.js')
    script(src='/AdminLTE-2.3.3/plugins/flot/jquery.flot.pie.min.js')
    script(src='/AdminLTE-2.3.3/plugins/flot/jquery.flot.categories.min.js')
    // Chart
    script(src='/AdminLTE-2.3.3/plugins/morris/morris.min.js')
    script(src='/AdminLTE-2.3.3/plugins/morris/raphael-min.js')
    // Custom App functions
    //script(type='text/javascript', src='/javascripts/app.func.js')
    // Tree View
    //script(type='text/javascript' , src='/bootstrap/js/easyTree.js')
    script(type='text/javascript' , src='/treeview/jstree.min.js')
    script(src='https://cdn.jsdelivr.net/npm/socket.io-client@2/dist/socket.io.js')
    // AdminLTE dashboard demo (This is only for demo purposes)
    //script(src='/AdminLTE-2.3.3/dist/js/pages/dashboard.js')
    // AdminLTE for demo purposes
    //script(src='/AdminLTE-2.3.3/dist/js/demo.js')
    block script
        script(type='text/javascript' src='/javascripts/js.cookie.js')
